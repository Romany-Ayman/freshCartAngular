<section class="bg-main-light container my-2 p-5">
  <div class="d-flex align-items-center justify-content-between">
    <h2 class="h3">Shop Cart:</h2>
    <button (click)="clearCart()" class="btn btn-outline-secondary ms-1">
      Clear Your Cart
    </button>
  </div>

  <h4 class="h6 text-main">
    Total Cart Price:{{ cartItem.totalCartPrice | currency : "GBP" }}
  </h4>
  @for (cart of cartItem.products; track cart.product.id) {

  <div class="row justify-content-around align-items-center my-2 border-bottom">
    <div class="col-md-10">
      <div class="row my-2 d-flex align-items-center">
        <div class="col-md-2">
          <img
            [src]="cart.product.imageCover"
            class="w-100 rounded-3"
            height="150px"
            [alt]="cart.product.title"
          />
        </div>
        <div class="col-md-10">
          <p>{{ cart.product.title }}</p>
          <P class="text-main"> price:{{ cart.price | currency : "GBP" }}</P>
          <button class="btn btn-danger" (click)="deleteCart(cart.product.id)">
            <span
              ><i class="fa-solid fa-trash cr" style="color: #af3618"></i></span
            ><span>Remove</span>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-2 d-flex justify-content-center align-items-center">
      <span (click)="updateCart(cart.product.id, cart.count + 1)"
        ><i class="fa-regular fa-square-plus fa-2xl" style="color: #013223"></i
      ></span>
      <span class="p-3"> {{ cart.count }}</span>
      <span (click)="updateCart(cart.product.id, cart.count - 1)"
        ><i
          class="fa-regular fa-square-minus fa-2xl"
          style="color: #ff1100"
        ></i>
      </span>
    </div>
  </div>
  }

  <button
    class="btn btn-outline-success"
    [disabled]="cartItem.totalCartPrice == 0"
    [routerLink]="['/address', cartItem._id]"
  >
    Buy it
  </button>
</section>
