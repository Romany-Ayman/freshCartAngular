import './polyfills.server.mjs';
import{a as G,b as c,c as B,d as I,h as M,i as k,j as x,m as $,o as j}from"./chunk-LMMCSKTZ.mjs";import{a as O}from"./chunk-JFGYG62P.mjs";import"./chunk-QZLY374Y.mjs";import"./chunk-RX66ZHJB.mjs";import{l as V}from"./chunk-N53UO32Q.mjs";import{$ as P,Db as a,Eb as L,Kb as A,Nb as S,Pa as s,X as N,db as p,fb as F,jb as _,nb as i,ob as r,pb as h,ub as q,vb as y,vc as D}from"./chunk-7VOAPGUD.mjs";import"./chunk-VVCT4QZE.mjs";var R=(t,n)=>({"is-valid":t,"is-invalid":n});function z(t,n){t&1&&(i(0,"p",17),a(1,"Name is required"),r())}function H(t,n){t&1&&(i(0,"p",17),a(1,"It must consist of at least 3 letters"),r())}function J(t,n){if(t&1&&(i(0,"div",6),p(1,z,2,0,"p",17)(2,H,2,0),r()),t&2){let o,l=y();s(),_(1,(o=l.registerForm.get("name"))!=null&&o.getError("required")?1:(o=l.registerForm.get("name"))!=null&&o.getError("minlength")?2:-1)}}function K(t,n){t&1&&(i(0,"p",17),a(1,"email is required"),r())}function Q(t,n){t&1&&(i(0,"p",17),a(1,"Enter Valid Email"),r())}function U(t,n){if(t&1&&(i(0,"div",6),p(1,K,2,0,"p",17)(2,Q,2,0),r()),t&2){let o,l=y();s(),_(1,(o=l.registerForm.get("email"))!=null&&o.getError("required")?1:(o=l.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function W(t,n){t&1&&(i(0,"p",17),a(1,"password is required"),r())}function X(t,n){t&1&&(i(0,"p",17),a(1,"It must consist of at least 6 letters"),r())}function Y(t,n){if(t&1&&(i(0,"div",6),p(1,W,2,0,"p",17)(2,X,2,0),r()),t&2){let o,l=y();s(),_(1,(o=l.registerForm.get("password"))!=null&&o.getError("required")?1:(o=l.registerForm.get("password"))!=null&&o.getError("pattern")?2:-1)}}function Z(t,n){t&1&&(i(0,"p",13),a(1," Password confirmation is incorrect "),r())}function ee(t,n){t&1&&(i(0,"p",17),a(1,"phone is required"),r())}function te(t,n){t&1&&(i(0,"p",17),a(1,"Enter Valid phone"),r())}function re(t,n){if(t&1&&(i(0,"div",6),p(1,ee,2,0,"p",17)(2,te,2,0),r()),t&2){let o,l=y();s(),_(1,(o=l.registerForm.get("phone"))!=null&&o.getError("required")?1:(o=l.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function ie(t,n){t&1&&(i(0,"span"),h(1,"i",18),r())}function ne(t,n){if(t&1&&(i(0,"p",13),a(1),r()),t&2){let o=y();s(),L(o.msgError)}}var pe=(()=>{let n=class n{constructor(){this._AuthService=N(O),this._FormBuilder=N($),this._Router=N(V),this.msgError="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:[null,[c.required,c.minLength(3)]],email:[null,[c.required,c.email]],password:[null,[c.required,c.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmpassword]})}registerSubmit(){this.registerForm.valid?(this.isLoading=!0,this.cloesRegister=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:l=>{l.message=="success"&&this._Router.navigate(["/login"]),console.log(l),this.isLoading=!1},error:l=>{this.msgError=l.error.message,console.log(l),this.isLoading=!1}})):this.registerForm.markAllAsTouched()}ngOnDestroy(){this.cloesRegister?.unsubscribe()}confirmpassword(l){return l.get("password")?.value===l.get("rePassword")?.value?null:{mismatch:!0}}};n.\u0275fac=function(b){return new(b||n)},n.\u0275cmp=P({type:n,selectors:[["app-register"]],standalone:!0,features:[A],decls:33,vars:29,consts:[[1,"bg-main-light","show","p-2","my-2","rounded-4","container"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50","m-0"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","d-block","ms-auto",3,"disabled"],[1,"m-0"],[1,"fa-solid","fa-arrows-spin","fa-spin"]],template:function(b,e){if(b&1&&(i(0,"section",0)(1,"h1",1),a(2,"Register Now:"),r(),i(3,"form",2),q("ngSubmit",function(){return e.registerSubmit()}),i(4,"div",3)(5,"label",4),a(6," name "),r(),h(7,"input",5),p(8,J,3,1,"div",6),r(),i(9,"div",3)(10,"label",7),a(11," Email "),r(),h(12,"input",8),p(13,U,3,1,"div",6),r(),i(14,"div",3)(15,"label",9),a(16," password "),r(),h(17,"input",10),p(18,Y,3,1,"div",6),r(),i(19,"div",3)(20,"label",11),a(21," rePassword "),r(),h(22,"input",12),p(23,Z,2,0,"p",13),r(),i(24,"div",3)(25,"label",14),a(26," phone "),r(),h(27,"input",15),p(28,re,3,1,"div",6),r(),i(29,"button",16),a(30," Register "),p(31,ie,2,0,"span"),r(),p(32,ne,2,1,"p",13),r()()),b&2){let m,C,d,v,u,E,f,T,g,w;s(3),F("formGroup",e.registerForm),s(4),F("ngClass",S(14,R,!((m=e.registerForm.get("name"))!=null&&m.errors)&&(((m=e.registerForm.get("name"))==null?null:m.touched)||((m=e.registerForm.get("name"))==null?null:m.dirty)),((m=e.registerForm.get("name"))==null?null:m.errors)&&(((m=e.registerForm.get("name"))==null?null:m.touched)||((m=e.registerForm.get("name"))==null?null:m.dirty)))),s(),_(8,(C=e.registerForm.get("name"))!=null&&C.errors&&((C=e.registerForm.get("name"))!=null&&C.touched||(C=e.registerForm.get("name"))!=null&&C.dirty)?8:-1),s(4),F("ngClass",S(17,R,!((d=e.registerForm.get("email"))!=null&&d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)),((d=e.registerForm.get("email"))==null?null:d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)))),s(),_(13,(v=e.registerForm.get("email"))!=null&&v.errors&&((v=e.registerForm.get("email"))!=null&&v.touched||(v=e.registerForm.get("email"))!=null&&v.dirty)?13:-1),s(4),F("ngClass",S(20,R,!((u=e.registerForm.get("password"))!=null&&u.errors)&&(((u=e.registerForm.get("password"))==null?null:u.touched)||((u=e.registerForm.get("password"))==null?null:u.dirty)),((u=e.registerForm.get("password"))==null?null:u.errors)&&(((u=e.registerForm.get("password"))==null?null:u.touched)||((u=e.registerForm.get("password"))==null?null:u.dirty)))),s(),_(18,(E=e.registerForm.get("password"))!=null&&E.errors&&((E=e.registerForm.get("password"))!=null&&E.touched||(E=e.registerForm.get("password"))!=null&&E.dirty)?18:-1),s(4),F("ngClass",S(23,R,!e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)),e.registerForm.getError("mismatch")&&(((f=e.registerForm.get("rePassword"))==null?null:f.touched)||((f=e.registerForm.get("rePassword"))==null?null:f.dirty)))),s(),_(23,e.registerForm.getError("mismatch")&&((T=e.registerForm.get("rePassword"))!=null&&T.touched||(T=e.registerForm.get("rePassword"))!=null&&T.dirty)?23:-1),s(4),F("ngClass",S(26,R,!((g=e.registerForm.get("phone"))!=null&&g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)),((g=e.registerForm.get("phone"))==null?null:g.errors)&&(((g=e.registerForm.get("phone"))==null?null:g.touched)||((g=e.registerForm.get("phone"))==null?null:g.dirty)))),s(),_(28,(w=e.registerForm.get("phone"))!=null&&w.errors&&((w=e.registerForm.get("phone"))!=null&&w.touched||(w=e.registerForm.get("phone"))!=null&&w.dirty)?28:-1),s(),F("disabled",e.registerForm.invalid||e.isLoading),s(2),_(31,e.isLoading?31:-1),s(),_(32,e.msgError?32:-1)}},dependencies:[j,M,G,B,I,k,x,D]});let t=n;return t})();export{pe as RegisterComponent};
