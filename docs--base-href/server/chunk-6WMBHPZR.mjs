import './polyfills.server.mjs';
import{a as R}from"./chunk-HIKXT4CB.mjs";import{a as F}from"./chunk-PJEJBBLR.mjs";import{c as E,d as k}from"./chunk-3UBA3IFJ.mjs";import"./chunk-RX66ZHJB.mjs";import{$ as f,Cc as T,Db as l,Eb as W,Fb as C,Kb as L,La as b,Pa as o,Qb as _,Rb as y,Sb as I,X as h,fb as x,ja as m,ka as d,lb as w,mb as S,nb as s,ob as n,pb as p,sb as g,ub as u,vb as v}from"./chunk-7VOAPGUD.mjs";import"./chunk-VVCT4QZE.mjs";var O=(r,i)=>i.id;function P(r,i){if(r&1){let a=g();s(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),p(4,"img",6),n(),s(5,"div",3)(6,"p"),l(7),n(),s(8,"P",7),l(9),_(10,"currency"),n(),s(11,"button",8),u("click",function(){let t=m(a).$implicit,c=v();return d(c.removeWihtWishlist(t.id))}),s(12,"span"),p(13,"i",9),n(),s(14,"span"),l(15,"Remove"),n()()()()(),s(16,"div",10)(17,"button",11),u("click",function(){let t=m(a).$implicit,c=v();return d(c.addCartwish(t.id))}),l(18," Add TO cart "),n()()()}if(r&2){let a=i.$implicit;o(4),x("src",a.imageCover,b)("alt",a.title),o(3),W(a.title),o(2),C(" price:",I(10,4,a.price,"GBP"),"")}}var G=(()=>{let i=class i{constructor(){this._CartService=h(F),this._WishListService=h(R),this.allWish=[]}ngOnInit(){this.cleanWishlist=this._WishListService.getALlWishlist().subscribe({next:e=>{console.log(e.data),this.allWish=e.data;let t=e.data;this._WishListService.wishlistIcone.push(t),console.log("wwwww",this._WishListService.wishlistIcone)}})}restartRespons(){this.cleanWishlist=this._WishListService.getALlWishlist().subscribe({next:e=>{console.log(e.data),this.allWish=e.data}})}addCartwish(e){this.cleanaddWishlist=this._CartService.addProductTOcart(e).subscribe({next:t=>{console.log(t.data),this._WishListService.wishlistIcone=t.data,this.removeWihtWishlist(e),this._CartService.CartNumber.next(t.numOfCartItems),this.restartRespons()}})}removeWihtWishlist(e){this.cleanRemoveWishlist=this._WishListService.removeFromWishlist(e).subscribe({next:t=>{console.log(t),this._WishListService.wishlistIcone=t.data,this.restartRespons()}})}ngOnDestroy(){this.cleanWishlist?.unsubscribe(),this.cleanaddWishlist?.unsubscribe(),this.cleanRemoveWishlist?.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[L],decls:6,vars:3,consts:[[1,"bg-main-light","container","my-2","p-5"],[1,"h3"],[1,"row","justify-content-around","align-items-center","my-2","border-bottom"],[1,"col-md-10"],[1,"row","my-2","d-flex","align-items-center"],[1,"col-md-2"],["height","150px",1,"w-100","rounded-3",3,"src","alt"],[1,"text-main"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash","cr",2,"color","#af3618"],[1,"col-md-2","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-outline-success",3,"click"]],template:function(t,c){t&1&&(s(0,"section",0)(1,"h2",1),l(2),_(3,"translate"),n(),w(4,P,19,7,"div",2,O),n()),t&2&&(o(2),W(y(3,1,"wish list.My Wish List")),o(2),S(c.allWish))},dependencies:[T,k,E]});let r=i;return r})();export{G as WishListComponent};
