import{a as K,b as Z}from"./chunk-4FNYX7A5.js";import{a as H}from"./chunk-YEC2RGKC.js";import{a as q,d as J}from"./chunk-JC44I5KY.js";import{l as X}from"./chunk-4GGWONN3.js";import{a as j,c as D,g as $,n as Y}from"./chunk-N6KK2HB5.js";import{a as Q}from"./chunk-2AWHVGP4.js";import{c as z,d as G}from"./chunk-O6NQKJFR.js";import{i as R}from"./chunk-JNFFE4DN.js";import{a as U}from"./chunk-H6J4EKJ7.js";import"./chunk-D5JVNGYT.js";import{Cb as d,Db as h,Fb as M,Gb as k,Hb as A,Jb as E,Ka as T,Kb as B,Lb as N,Oa as s,Pb as p,Qb as C,Rb as x,_ as m,ba as L,cb as b,eb as w,ib as P,jb as I,kb as W,la as _,lb as y,ma as f,mb as o,nb as a,ob as u,rb as g,rc as V,tb as v,tc as O,ub as l,xb as F}from"./chunk-FB4JHNKM.js";var tt=(i,r)=>r._id,et=i=>["/details",i],it=()=>[1,2,3,4,5];function nt(i,r){i&1&&(o(0,"span"),u(1,"i",17),a())}function rt(i,r){i&1&&u(0,"i",12)}function ot(i,r){if(i&1){let n=g();o(0,"span",18),v("click",function(){_(n);let t=l().$implicit,c=l();return f(c.addProducttoWishlist(t.id))}),u(1,"i",19),a()}}function st(i,r){if(i&1){let n=g();o(0,"span",18),v("click",function(){_(n);let t=l().$implicit,c=l();return f(c.removeWihtWishlist(t.id))}),u(1,"i",20),a()}}function at(i,r){if(i&1){let n=g();o(0,"div",4)(1,"div",5)(2,"div",6),u(3,"img",7),o(4,"h3",8),d(5),a(),o(6,"p",9),d(7),p(8,"termtext"),p(9,"titlecase"),a(),o(10,"div",10)(11,"span"),d(12),p(13,"currency"),a(),o(14,"div",11),W(15,nt,2,0,"span",null,I),b(17,rt,1,0,"i",12),o(18,"span",13),d(19),a()()()(),o(20,"div",14)(21,"button",15),v("click",function(){let t=_(n).$implicit,c=l();return f(c.addCart(t.id))}),d(22," Add cart "),a(),b(23,ot,2,0,"span",16)(24,st,2,0),a()()()}if(i&2){let n=r.$implicit,e=l();s(2),w("routerLink",N(17,et,n._id)),s(),w("src",n.imageCover,T)("alt",n.title),s(2),h(n.category.name),s(2),h(C(9,12,x(8,9,n.title,2))),s(5),h(x(13,14,n.price,"GBP")),s(3),y(B(19,it).slice(0,n.ratingsAverage)),s(2),P(17,n.ratingsAverage%1!==0?17:-1),s(2),h(n.ratingsAverage),s(4),P(23,e.wishlistIcone.includes(n.id)?24:23)}}var Tt=(()=>{let r=class r{constructor(){this._ProductsService=m(q),this._CategoriService=m(H),this._CartService=m(U),this._WishListService=m(Q),this._ToastrService=m(X),this.productsList=[],this.categoriLyst=[],this.wishlistIcone=[],this.textName=""}addCart(e){this._CartService.addProductTOcart(e).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.CartNumber.next(t.numOfCartItems)}})}addProducttoWishlist(e){this.cleanAddWishList=this._WishListService.getProductWishlist(e).subscribe({next:t=>{console.log(t),this._WishListService.wishlistIcone=t.data,this.wishlistIcone=this._WishListService.wishlistIcone,console.log(this.wishlistIcone),this._ToastrService.success(t.message,"Add Whith WishList")}})}removeWihtWishlist(e){this.cleanRemoveWishlist=this._WishListService.removeFromWishlist(e).subscribe({next:t=>{console.log(t),this._WishListService.wishlistIcone=t.data,this.wishlistIcone=this._WishListService.wishlistIcone,this._ToastrService.warning("remove Form Wish list")}})}ngOnInit(){this.cloesAllproducts=this._ProductsService.getAllProducts().subscribe({next:e=>{console.log("prodouct",e.data),this.productsList=e.data}}),this.cleanWishlist=this._WishListService.getALlWishlist().subscribe({next:e=>{this._WishListService.wishlistIcone=e.data,this.wishlistIcone=e.data.map(t=>t._id)}}),this.cleanCatagor=this._CategoriService.getCategori().subscribe({next:e=>{console.log(e.data),this.categoriLyst=e.data}})}ngOnDestroy(){this.cloesAllproducts?.unsubscribe(),this.cleanAddWishList?.unsubscribe(),this.cleanRemoveWishlist?.unsubscribe(),this.cleanRestar?.unsubscribe(),this.cleanCatagor?.unsubscribe(),this.cleanWishlist?.unsubscribe()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=L({type:r,selectors:[["app-product"]],standalone:!0,features:[E],decls:10,vars:11,consts:[[1,"container-fluid"],[1,"text-main"],["type","search",1,"w-50","mx-auto","form-control","my-2",3,"ngModelChange","ngModel","placeholder"],[1,"row","g-3","mt-3"],[1,"col-md-2"],[1,"product","p-1"],[1,"prt-1",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"justify-content-between","align-items-center","small"],[1,"fa-regular","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"d-flex","justify-content-between","align-items-center","px-2"],[1,"btn-main","w-75","rounded-4",3,"click"],["id","button",1,"cr"],[1,"fa-solid","fa-star","rating-color"],["id","button",1,"cr",3,"click"],[1,"fa-solid","fa-heart","fa-2xl",2,"color","#b197fc"],[1,"fa-solid","fa-heart","fa-beat-fade","fa-2xl",2,"color","#ea3434"]],template:function(t,c){t&1&&(o(0,"section",0)(1,"h2",1),d(2),p(3,"translate"),a(),o(4,"input",2),p(5,"translate"),A("ngModelChange",function(S){return k(c.textName,S)||(c.textName=S),S}),a(),o(6,"div",3),W(7,at,25,20,"div",4,tt),p(9,"search"),a()()),t&2&&(s(2),h(C(3,4,"Product.popular product:")),s(2),F("placeholder","",C(5,6,"Product.Search By Name"),"...."),M("ngModel",c.textName),s(3),y(x(9,8,c.productsList,c.textName)))},dependencies:[J,R,O,K,V,Y,j,D,$,Z,G,z],styles:[".product[_ngcontent-%COMP%]   .btn-main[_ngcontent-%COMP%]{transform:translateY(120%);transition:all .7s}.product[_ngcontent-%COMP%]:hover   .btn-main[_ngcontent-%COMP%]{transform:translateY(0)}*[_ngcontent-%COMP%]{margin-top:5px}"]});let i=r;return i})();export{Tt as ProductComponent};
